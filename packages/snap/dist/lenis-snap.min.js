!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Lenis=t()}(this,(function(){"use strict";function removeParentSticky(e){"sticky"===getComputedStyle(e).position&&(e.style.setProperty("position","static"),e.dataset.sticky="true"),e.offsetParent&&removeParentSticky(e.offsetParent)}function addParentSticky(e){"true"===e?.dataset?.sticky&&(e.style.removeProperty("position"),e.dataset.sticky="true",delete e.dataset.sticky),e.parentNode&&addParentSticky(e.parentNode)}function scrollTop(e,t=0){const i=t+e.scrollTop;return e.offsetParent?scrollTop(e.offsetParent,i):i+window.scrollY}function scrollLeft(e,t=0){const i=t+e.scrollLeft;return e.offsetParent?scrollLeft(e.offsetParent,i):i+window.scrollX}class Slide{constructor(e,{align:t="start",type:i="mandatory"}={}){this.element=e,this.align=t,this.type=i,this.rect={},this.wrapperResizeObserver=new ResizeObserver(this.onWrapperResize),this.wrapperResizeObserver.observe(document.body),this.resizeObserver=new ResizeObserver(this.onResize),this.resizeObserver.observe(this.element)}destroy(){this.wrapperResizeObserver.disconnect(),this.resizeObserver.disconnect()}setRect({top:e,left:t,width:i,height:s,element:o}){e=e??this.rect.top,t=t??this.rect.left,i=i??this.rect.width,s=s??this.rect.height,o=o??this.rect.element,e===this.rect.top&&t===this.rect.left&&i===this.rect.width&&s===this.rect.height&&o===this.rect.element||(this.rect.top=e,this.rect.y=e,this.rect.width=i,this.rect.height=s,this.rect.left=t,this.rect.x=t,this.rect.bottom=e+s,this.rect.right=t+i)}onWrapperResize=()=>{let e,t;removeParentSticky(this.element);{const i=this.element.getBoundingClientRect();e=i.top+scrollTop(this.element),t=i.left+scrollLeft(this.element)}addParentSticky(this.element),this.setRect({top:e,left:t})};onResize=([e])=>{const t=e.borderBoxSize[0].inlineSize,i=e.borderBoxSize[0].blockSize;this.setRect({width:t,height:i})}}return function(){function Snap(e){var t=this;this.onWindowResize=function(){t.viewport.width=window.innerWidth,t.viewport.height=window.innerHeight},this.onScroll=function(e){console.log(e.isNativeScroll,e.velocity),0===e.velocity&&t.elements.forEach((function(e){var i=e.rect;e.type;var s,o=e.align;"start"===o?s=i.top:"center"===o?s=i.top+i.height/2-t.viewport.height/2:"end"===o&&(s=i.top+i.height-t.viewport.height),console.log("snap",s)}))},this.lenis=e,this.elements=new Map,this.viewport={width:window.innerWidth,height:window.innerHeight},this.onWindowResize(),window.addEventListener("resize",this.onWindowResize),this.lenis.on("scroll",this.onScroll)}return Snap.prototype.destroy=function(){this.lenis.off("scroll",this.onScroll),window.removeEventListener("resize",this.onWindowResize),this.elements.forEach((function(e){return e.destroy()}))},Snap.prototype.add=function(e,t){void 0===t&&(t={}),this.elements.set(e,new Slide(e,t))},Snap.prototype.remove=function(e){this.elements.delete(e)},Snap}()}));
//# sourceMappingURL=lenis-snap.min.js.map
