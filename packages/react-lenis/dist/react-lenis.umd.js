!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@studio-freight/hamo"),require("@studio-freight/lenis"),require("prop-types"),require("react"),require("zustand"),require("clsx")):"function"==typeof define&&define.amd?define(["exports","@studio-freight/hamo","@studio-freight/lenis","prop-types","react","zustand","clsx"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactLenis={},e.hamo,e.Lenis,e.PropTypes,e.React,e.zustand,e.cn)}(this,(function(e,t,r,a,s,n,o){"use strict";function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}const i=s.createContext(),l=n.create((()=>({})));const u=s.forwardRef((({children:e,root:a=!1,options:n={},autoRaf:u=!0,rafPriority:f=0,className:d,...p},b)=>{const m=s.useRef(),y=s.useRef(),[h,g]=s.useState(),k=s.useRef([]),v=s.useCallback(((e,t)=>{k.current.push({callback:e,priority:t}),k.current.sort(((e,t)=>e.priority-t.priority))}),[]),C=s.useCallback((e=>{k.current=k.current.filter((t=>t.callback!==e))}),[]);s.useImperativeHandle(b,(()=>h),[h]),s.useEffect((()=>{const e=new r({...n,...!a&&{wrapper:m.current,content:y.current}});return g(e),()=>{e.destroy(),g(void 0)}}),[a,JSON.stringify(n)]),t.useFrame((e=>{u&&h?.raf(e)}),f),s.useEffect((()=>{a&&h&&l.setState({lenis:h,addCallback:v,removeCallback:C})}),[a,h,v,C]);const N=s.useCallback((e=>{for(let t=0;t<k.current.length;t++)k.current[t].callback(e)}),[]);s.useEffect((()=>(h?.on("scroll",N),()=>{h?.off("scroll",N)})),[h,N]);const R=s.useCallback((()=>{m.current&&(m.current.className=o(h?.className,d))}),[h,d]);return s.useEffect((()=>(R(),h?.on("className change",R),()=>{h?.off("className change",R)})),[h,R]),s.createElement(i.Provider,{value:{lenis:h,addCallback:v,removeCallback:C}},a?e:s.createElement("div",c({ref:m,className:o(h?.className,d)},p),s.createElement("div",{ref:y},e)))}));u.displayName="ReactLenis",u.propTypes={children:a.node,root:a.bool,options:a.object,autoRaf:a.bool,rafPriority:a.number,className:a.string},e.Lenis=u,e.LenisContext=i,e.ReactLenis=u,e.default=u,e.useLenis=function(e,t=[],r=0){const{lenis:a,addCallback:n,removeCallback:o}=function(){const e=s.useContext(i),t=l();return e??t}();return s.useEffect((()=>{if(e&&n&&o&&a)return n(e,r),e(a),()=>{o(e)}}),[a,n,o,r,...t]),a},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-lenis.umd.js.map
