"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@studio-freight/hamo"),r=require("@studio-freight/lenis"),t=require("prop-types"),a=require("react"),s=require("zustand"),c=require("clsx");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n.apply(this,arguments)}const o=a.createContext(),l=s.create((()=>({})));const u=a.forwardRef((({children:t,root:s=!1,options:u={},autoRaf:i=!0,rafPriority:f=0,className:p,...d},b)=>{const m=a.useRef(),v=a.useRef(),[y,k]=a.useState(),C=a.useRef([]),h=a.useCallback(((e,r)=>{C.current.push({callback:e,priority:r}),C.current.sort(((e,r)=>e.priority-r.priority))}),[]),g=a.useCallback((e=>{C.current=C.current.filter((r=>r.callback!==e))}),[]);a.useImperativeHandle(b,(()=>y),[y]),a.useEffect((()=>{const e=new r({...u,...!s&&{wrapper:m.current,content:v.current}});return k(e),()=>{e.destroy(),k(void 0)}}),[s,JSON.stringify(u)]),e.useFrame((e=>{i&&y?.raf(e)}),f),a.useEffect((()=>{s&&y&&l.setState({lenis:y,addCallback:h,removeCallback:g})}),[s,y,h,g]);const x=a.useCallback((e=>{for(let r=0;r<C.current.length;r++)C.current[r].callback(e)}),[]);a.useEffect((()=>(y?.on("scroll",x),()=>{y?.off("scroll",x)})),[y,x]);const N=a.useCallback((()=>{m.current&&(m.current.className=c(y?.className,p))}),[y,p]);return a.useEffect((()=>(N(),y?.on("className change",N),()=>{y?.off("className change",N)})),[y,N]),a.createElement(o.Provider,{value:{lenis:y,addCallback:h,removeCallback:g}},s?t:a.createElement("div",n({ref:m,className:c(y?.className,p)},d),a.createElement("div",{ref:v},t)))}));u.displayName="ReactLenis",u.propTypes={children:t.node,root:t.bool,options:t.object,autoRaf:t.bool,rafPriority:t.number,className:t.string},exports.Lenis=u,exports.LenisContext=o,exports.ReactLenis=u,exports.default=u,exports.useLenis=function(e,r=[],t=0){const{lenis:s,addCallback:c,removeCallback:n}=function(){const e=a.useContext(o),r=l();return e??r}();return a.useEffect((()=>{if(e&&c&&n&&s)return c(e,t),e(s),()=>{n(e)}}),[s,c,n,t,...r]),s};
//# sourceMappingURL=react-lenis.cjs.js.map
