!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t||self).Lenis=e()}(this,function(){function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},t.apply(this,arguments)}var e=0;function i(t){return"__private_"+e+++"_"+t}function n(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}let o=()=>({events:{},emit(t,...e){let i=this.events[t]||[];for(let t=0,n=i.length;t<n;t++)i[t](...e)},on(t,e){return this.events[t]?.push(e)||(this.events[t]=[e]),()=>{this.events[t]=this.events[t]?.filter(t=>e!==t)}}});function s(t,e,i){return Math.max(t,Math.min(e,i))}var r=/*#__PURE__*/function(){function t(){}var e=t.prototype;return e.advance=function(t){var e;if(this.isRunning){var i;this.value===this.from&&(null==(i=this.onStart)||i.call(this,this.from));var n,o,r=!1;if(this.lerp)this.value=(1-(n=this.lerp))*this.value+n*this.to,Math.round(this.value)===this.to&&(this.value=this.to,r=!0);else{this.currentTime+=t;var l=s(0,this.currentTime/this.duration,1),h=(r=l>=1)?1:this.easing(l);this.value=this.from+(this.to-this.from)*h}null==(e=this.onUpdate)||e.call(this,this.value),r&&(null==(o=this.onComplete)||o.call(this,this.to),this.stop())}},e.stop=function(){this.isRunning=!1},e.fromTo=function(t,e,i){var n=i.lerp,o=void 0===n?.1:n,s=i.duration,r=void 0===s?1:s,l=i.easing,h=void 0===l?function(t){return t}:l,a=i.onStart,u=i.onUpdate,c=i.onComplete;this.from=this.value=t,this.to=e,this.lerp=o,this.duration=r,this.easing=h,this.currentTime=0,this.isRunning=!0,this.onStart=a,this.onUpdate=u,this.onComplete=c},t}(),l=/*#__PURE__*/i("resizeObserver"),h=/*#__PURE__*/i("onResize"),a=/*#__PURE__*/i("onWindowResize"),u=/*#__PURE__*/function(){function t(t){var e=this;Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:function(t){var i=t[0];if(i){var n=i.contentRect,o=n.height;e.width=n.width,e.height=o}}}),Object.defineProperty(this,a,{writable:!0,value:function(){e.width=window.innerWidth,e.height=window.innerHeight}}),this.element=t,t===window?(window.addEventListener("resize",n(this,a)[a]),n(this,a)[a]()):(this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,n(this,l)[l]=new ResizeObserver(n(this,h)[h]),n(this,l)[l].observe(this.element))}return t.prototype.destroy=function(){window.removeEventListener("resize",this.onWindowResize),n(this,l)[l].disconnect()},t}(),c=/*#__PURE__*/i("wheelMultiplier"),d=/*#__PURE__*/i("touchMultiplier"),v=/*#__PURE__*/i("normalizeWheel"),p=/*#__PURE__*/i("touchStart"),f=/*#__PURE__*/i("emitter"),m=/*#__PURE__*/i("onTouchStart"),b=/*#__PURE__*/i("onTouchMove"),w=/*#__PURE__*/i("onWheel"),y=/*#__PURE__*/function(){function t(t,e){var i=this,r=e.wheelMultiplier,l=void 0===r?1:r,h=e.touchMultiplier,a=void 0===h?2:h,u=e.normalizeWheel,y=void 0!==u&&u;Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.pageX,s=e.pageY;n(i,p)[p].x=o,n(i,p)[p].y=s}}),Object.defineProperty(this,b,{writable:!0,value:function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.pageX,s=e.pageY,r=-(o-n(i,p)[p].x)*n(i,d)[d],l=-(s-n(i,p)[p].y)*n(i,d)[d];n(i,p)[p].x=o,n(i,p)[p].y=s,n(i,f)[f].emit("scroll",{type:"touch",deltaX:r,deltaY:l,event:t})}}),Object.defineProperty(this,w,{writable:!0,value:function(t){var e=t.deltaX,o=t.deltaY;n(i,v)[v]&&(e=s(-100,e,100),o=s(-100,o,100)),e*=n(i,c)[c],o*=n(i,c)[c],n(i,f)[f].emit("scroll",{type:"wheel",deltaX:e,deltaY:o,event:t})}}),this.element=t,n(this,c)[c]=l,n(this,d)[d]=a,n(this,v)[v]=y,n(this,p)[p]={x:null,y:null},n(this,f)[f]=o(),this.element.addEventListener("wheel",n(this,w)[w],{passive:!1}),this.element.addEventListener("touchstart",n(this,m)[m],{passive:!1}),this.element.addEventListener("touchmove",n(this,b)[b],{passive:!1})}var e=t.prototype;return e.on=function(t,e){return n(this,f)[f].on(t,e)},e.destroy=function(){n(this,f)[f].events={},this.element.removeEventListener("wheel",n(this,w)[w],{passive:!1}),this.element.removeEventListener("touchstart",n(this,m)[m],{passive:!1}),this.element.removeEventListener("touchmove",n(this,b)[b],{passive:!1})},t}(),g=/*#__PURE__*/i("options"),O=/*#__PURE__*/i("wrapper"),j=/*#__PURE__*/i("content"),P=/*#__PURE__*/i("animate"),S=/*#__PURE__*/i("emitter"),T=/*#__PURE__*/i("virtualScroll"),L=/*#__PURE__*/i("time"),M=/*#__PURE__*/i("velocity"),z=/*#__PURE__*/i("direction"),E=/*#__PURE__*/i("animatedScroll"),W=/*#__PURE__*/i("targetScroll"),k=/*#__PURE__*/i("_isScrolling"),R=/*#__PURE__*/i("_isStopped"),x=/*#__PURE__*/i("_isSmooth"),C=/*#__PURE__*/i("isLocked"),H=/*#__PURE__*/i("setScroll"),_=/*#__PURE__*/i("onVirtualScroll"),X=/*#__PURE__*/i("onScroll"),Y=/*#__PURE__*/i("classElement"),D=/*#__PURE__*/i("actualScroll"),U=/*#__PURE__*/i("isSmooth"),A=/*#__PURE__*/i("isScrolling"),q=/*#__PURE__*/i("isStopped");function B(t){n(this,g)[g].infinite&&(t=this.scroll),this.isHorizontal?n(this,Y)[Y].scrollLeft=t:n(this,Y)[Y].scrollTop=t}function V(){return n(this,O)[O].element===window?n(this,j)[j].element:n(this,O)[O].element}function F(){return n(this,Y)[Y].scrollTop}function K(t){n(this,x)[x]!==t&&n(this,Y)[Y].classList.toggle("lenis-smooth",t),n(this,x)[x]=t}function G(t){n(this,k)[k]!==t&&n(this,Y)[Y].classList.toggle("lenis-scrolling",t),n(this,k)[k]=t}function I(t){n(this,R)[R]!==t&&n(this,Y)[Y].classList.toggle("lenis-stopped",t),n(this,R)[R]=t}/*#__PURE__*/
return function(){function e(t){var e=this,i=void 0===t?{}:t,s=i.direction,l=i.gestureDirection,h=i.mouseMultiplier,a=i.smooth,c=i.wrapper,d=void 0===c?window:c,v=i.content,p=void 0===v?document.documentElement:v,f=i.smoothWheel,m=void 0===f?null==a||a:f,b=i.smoothTouch,w=void 0!==b&&b,J=i.duration,N=i.easing,Q=void 0===N?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:N,Z=i.lerp,$=void 0===Z?J?null:.1:Z,tt=i.infinite,et=void 0!==tt&&tt,it=i.orientation,nt=void 0===it?null!=s?s:"vertical":it,ot=i.gestureOrientation,st=void 0===ot?null!=l?l:"vertical":ot,rt=i.touchMultiplier,lt=void 0===rt?2:rt,ht=i.wheelMultiplier,at=void 0===ht?null!=h?h:1:ht,ut=i.normalizeWheel,ct=void 0===ut||ut;Object.defineProperty(this,q,{get:void 0,set:I}),Object.defineProperty(this,A,{get:void 0,set:G}),Object.defineProperty(this,U,{get:void 0,set:K}),Object.defineProperty(this,D,{get:F,set:void 0}),Object.defineProperty(this,Y,{get:V,set:void 0}),Object.defineProperty(this,H,{value:B}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,j,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,x,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:function(t){var i=t.type,o=t.deltaX,s=t.deltaY,r=t.event;if(!r.ctrlKey&&!("vertical"===n(e,g)[g].gestureOrientation&&0===s||"horizontal"===n(e,g)[g].gestureOrientation&&0===o||r.composedPath().find(function(t){return null==t||null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent")})))if(e.isStopped||n(e,C)[C])r.preventDefault();else if(n(e,U)[U]=n(e,g)[g].smoothTouch&&"touch"===i||n(e,g)[g].smoothWheel&&"wheel"===i,e.isSmooth){r.preventDefault();var l=s;"both"===n(e,g)[g].gestureOrientation?l=o+s:"horizontal"===n(e,g)[g].gestureOrientation&&(l=o),e.scrollTo(n(e,W)[W]+l,{},!1)}}}),Object.defineProperty(this,X,{writable:!0,value:function(){if(!e.isScrolling){var t=n(e,E)[E];n(e,E)[E]=n(e,W)[W]=n(e,D)[D],n(e,M)[M]=0,n(e,z)[z]=Math.sign(n(e,E)[E]-t),e.emit()}}}),s&&console.warn("Lenis: `direction` option is deprecated, use `orientation` instead"),l&&console.warn("Lenis: `gestureDirection` option is deprecated, use `gestureOrientation` instead"),h&&console.warn("Lenis: `mouseMultiplier` option is deprecated, use `wheelMultiplier` instead"),a&&console.warn("Lenis: `smooth` option is deprecated, use `smoothWheel` instead"),window.lenisVersion="1.0.0-dev.4",d!==document.documentElement&&d!==document.body||(d=window),n(this,g)[g]={wrapper:d,content:p,smoothWheel:m,smoothTouch:w,duration:J,easing:Q,lerp:$,infinite:et,gestureOrientation:st,orientation:nt,touchMultiplier:lt,wheelMultiplier:at,normalizeWheel:ct},n(this,O)[O]=new u(d),n(this,j)[j]=new u(p),n(this,Y)[Y].classList.add("lenis"),n(this,M)[M]=0,n(this,q)[q]=!1,n(this,U)[U]=m||w,n(this,A)[A]=!1,n(this,W)[W]=n(this,E)[E]=n(this,D)[D],n(this,P)[P]=new r,n(this,S)[S]=o(),n(this,O)[O].element.addEventListener("scroll",n(this,X)[X],{passive:!1}),n(this,T)[T]=new y(d,{touchMultiplier:lt,wheelMultiplier:at,normalizeWheel:ct}),n(this,T)[T].on("scroll",n(this,_)[_])}var i,l,h=e.prototype;return h.destroy=function(){n(this,S)[S].events={},n(this,O)[O].element.removeEventListener("scroll",n(this,X)[X],{passive:!1}),n(this,T)[T].destroy()},h.on=function(t,e){return n(this,S)[S].on(t,e)},h.emit=function(){n(this,S)[S].emit("scroll",this)},h.start=function(){n(this,q)[q]=!1},h.stop=function(){n(this,q)[q]=!0},h.raf=function(t){var e=t-(n(this,L)[L]||t);n(this,L)[L]=t,n(this,P)[P].advance(.001*e)},h.scrollTo=function(t,e,i){var o=this,r=void 0===e?{}:e,l=r.offset,h=void 0===l?0:l,a=r.immediate,u=void 0!==a&&a,c=r.lock,d=void 0!==c&&c,v=r.duration,p=void 0===v?n(this,g)[g].duration:v,f=r.easing,m=void 0===f?n(this,g)[g].easing:f,b=r.lerp,w=void 0===b?n(this,g)[g].lerp:b,y=r.onComplete;if(void 0===i&&(i=!0),["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{var j,S;if("string"==typeof t?S=document.querySelector(t):null!=(j=t)&&j.nodeType&&(S=t),S){if(n(this,O)[O].element!==window){var T=n(this,O)[O].element.getBoundingClientRect();h-=this.isHorizontal?T.left:T.top}var L=S.getBoundingClientRect();t=(this.isHorizontal?L.left:L.top)+n(this,E)[E]}}if("number"==typeof t)if(t+=h,n(this,g)[g].infinite?i&&(n(this,W)[W]=n(this,E)[E]=this.scroll):t=s(0,t,this.limit),n(this,E)[E]!==t){if(u)return n(this,E)[E]=n(this,W)[W]=t,n(this,H)[H](t),this.emit(),void(null==y||y());i||(n(this,W)[W]=t),n(this,P)[P].fromTo(n(this,E)[E],t,{duration:p,easing:m,lerp:w,onStart:function(){d&&(n(o,C)[C]=!0),n(o,A)[A]=!0},onUpdate:function(t){n(o,M)[M]=t-n(o,E)[E],n(o,z)[z]=Math.sign(n(o,M)[M]),n(o,E)[E]=t,n(o,H)[H](t),i&&(n(o,W)[W]=t),o.emit()},onComplete:function(t){d&&(n(o,C)[C]=!1),requestAnimationFrame(function(){n(o,A)[A]=!1}),n(o,M)[M]=0,o.emit(),null==y||y()}})}else null==y||y()},i=e,(l=[{key:"options",get:function(){return t({},n(this,g)[g])}},{key:"limit",get:function(){return this.isHorizontal?n(this,j)[j].width-n(this,O)[O].width:n(this,j)[j].height-n(this,O)[O].height}},{key:"isHorizontal",get:function(){return"horizontal"===n(this,g)[g].orientation}},{key:"scroll",get:function(){return e=n(this,E)[E]%(t=this.limit),(t>0&&e<0||t<0&&e>0)&&(e+=t),e;var t,e}},{key:"progress",get:function(){return this.scroll/this.limit}},{key:"velocity",get:function(){return n(this,M)[M]}},{key:"direction",get:function(){return n(this,z)[z]}},{key:"isSmooth",get:function(){return n(this,x)[x]}},{key:"isScrolling",get:function(){return n(this,k)[k]}},{key:"isStopped",get:function(){return n(this,R)[R]}}])&&function(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(i.prototype,l),Object.defineProperty(i,"prototype",{writable:!1}),e}()});
