import{createNanoEvents as t}from"nanoevents";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},e.apply(this,arguments)}var i=0;function s(t){return"__private_"+i+++"_"+t}function o(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}function r(t,e,i){return Math.max(t,Math.min(e,i))}class n{advance(t){var e,i;if(!this.isRunning)return;this.value===this.from&&(null==(i=this.onStart)||i.call(this,this.from));let s=!1;if(this.lerp)this.value=(1-(o=this.lerp))*this.value+o*this.to,Math.round(this.value)===this.to&&(this.value=this.to,s=!0);else{this.currentTime+=t;const e=r(0,this.currentTime/this.duration,1);s=e>=1;const i=s?1:this.easing(e);this.value=this.from+(this.to-this.from)*i}var o,n;null==(e=this.onUpdate)||e.call(this,this.value),s&&(null==(n=this.onComplete)||n.call(this,this.to),this.stop())}stop(){this.isRunning=!1}fromTo(t,e,{lerp:i=.1,duration:s=1,easing:o=(t=>t),onStart:r,onUpdate:n,onComplete:h}){this.from=this.value=t,this.to=e,this.lerp=i,this.duration=s,this.easing=o,this.currentTime=0,this.isRunning=!0,this.onStart=r,this.onUpdate=n,this.onComplete=h}}var h=/*#__PURE__*/s("resizeObserver"),l=/*#__PURE__*/s("onResize"),a=/*#__PURE__*/s("onWindowResize");class u{constructor(t){Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:([t])=>{if(t){const{width:e,height:i}=t.contentRect;this.width=e,this.height=i}}}),Object.defineProperty(this,a,{writable:!0,value:()=>{this.width=window.innerWidth,this.height=window.innerHeight}}),this.element=t,t===window?(window.addEventListener("resize",o(this,a)[a]),o(this,a)[a]()):(this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,o(this,h)[h]=new ResizeObserver(o(this,l)[l]),o(this,h)[h].observe(this.element))}destroy(){window.removeEventListener("resize",this.onWindowResize),o(this,h)[h].disconnect()}}var c=/*#__PURE__*/s("wheelMultiplier"),d=/*#__PURE__*/s("touchMultiplier"),p=/*#__PURE__*/s("touchStart"),v=/*#__PURE__*/s("emitter"),m=/*#__PURE__*/s("onTouchStart"),f=/*#__PURE__*/s("onTouchMove"),w=/*#__PURE__*/s("onWheel");class g{constructor(e,{wheelMultiplier:i=1,touchMultiplier:s=2}){Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:t=>{const{pageX:e,pageY:i}=t.targetTouches?t.targetTouches[0]:t;o(this,p)[p].x=e,o(this,p)[p].y=i}}),Object.defineProperty(this,f,{writable:!0,value:t=>{const{pageX:e,pageY:i}=t.targetTouches?t.targetTouches[0]:t,s=-(e-o(this,p)[p].x)*o(this,d)[d],r=-(i-o(this,p)[p].y)*o(this,d)[d];o(this,p)[p].x=e,o(this,p)[p].y=i,o(this,v)[v].emit("scroll",{type:"touch",deltaX:s,deltaY:r,event:t})}}),Object.defineProperty(this,w,{writable:!0,value:t=>{let{deltaX:e,deltaY:i}=t;e*=o(this,c)[c],i*=o(this,c)[c],o(this,v)[v].emit("scroll",{type:"wheel",deltaX:e,deltaY:i,event:t})}}),this.element=e,o(this,c)[c]=i,o(this,d)[d]=s,o(this,p)[p]={x:null,y:null},o(this,v)[v]=t(),this.element.addEventListener("wheel",o(this,w)[w],{passive:!1}),this.element.addEventListener("touchstart",o(this,m)[m],{passive:!1}),this.element.addEventListener("touchmove",o(this,f)[f],{passive:!1})}on(t,e){return o(this,v)[v].on(t,e)}destroy(){o(this,v)[v].events={},this.element.removeEventListener("wheel",o(this,w)[w],{passive:!1}),this.element.removeEventListener("touchstart",o(this,m)[m],{passive:!1}),this.element.removeEventListener("touchmove",o(this,f)[f],{passive:!1})}}var b=/*#__PURE__*/s("options"),y=/*#__PURE__*/s("wrapper"),O=/*#__PURE__*/s("content"),j=/*#__PURE__*/s("animate"),S=/*#__PURE__*/s("emitter"),P=/*#__PURE__*/s("virtualScroll"),T=/*#__PURE__*/s("time"),M=/*#__PURE__*/s("velocity"),L=/*#__PURE__*/s("direction"),z=/*#__PURE__*/s("animatedScroll"),E=/*#__PURE__*/s("targetScroll"),R=/*#__PURE__*/s("isScrolling"),W=/*#__PURE__*/s("isStopped"),C=/*#__PURE__*/s("isLocked"),H=/*#__PURE__*/s("isSmooth"),x=/*#__PURE__*/s("setScroll"),X=/*#__PURE__*/s("onVirtualScroll"),Y=/*#__PURE__*/s("onScroll"),U=/*#__PURE__*/s("classElement"),_=/*#__PURE__*/s("actualScroll");class A{constructor({direction:e,gestureDirection:i,mouseMultiplier:s,smooth:r,wrapper:h=window,content:l=document.documentElement,smoothWheel:a=null==r||r,smoothTouch:c=!1,duration:d,easing:p=(t=>Math.min(1,1.001-Math.pow(2,-10*t))),lerp:v=(d?null:.1),infinite:m=!1,orientation:f=(null!=e?e:"vertical"),gestureOrientation:w=(null!=i?i:"vertical"),touchMultiplier:A=2,wheelMultiplier:B=(null!=s?s:1)}={}){Object.defineProperty(this,_,{get:q,set:void 0}),Object.defineProperty(this,U,{get:k,set:void 0}),Object.defineProperty(this,x,{value:D}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,j,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,H,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:({type:t,deltaX:e,deltaY:i,event:s})=>{if(s.ctrlKey)return;if("vertical"===o(this,b)[b].gestureOrientation&&0===i||"horizontal"===o(this,b)[b].gestureOrientation&&0===e)return;if(s.composedPath().find(t=>null==t||null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent")))return;if(this.isStopped||o(this,C)[C])return void s.preventDefault();if(this.isSmooth=o(this,b)[b].smoothTouch&&"touch"===t||o(this,b)[b].smoothWheel&&"wheel"===t,!this.isSmooth)return;s.preventDefault();let r=i;"both"===o(this,b)[b].gestureOrientation?r=e+i:"horizontal"===o(this,b)[b].gestureOrientation&&(r=e),this.scrollTo(o(this,E)[E]+r,{},!1)}}),Object.defineProperty(this,Y,{writable:!0,value:()=>{this.isScrolling||(o(this,z)[z]=o(this,E)[E]=o(this,_)[_],this.velocity=0,this.emit())}}),window.lenisVersion="1.0.0-dev.1",h!==document.documentElement&&h!==document.body||(h=window),o(this,b)[b]={wrapper:h,content:l,smoothWheel:a,smoothTouch:c,duration:d,easing:p,lerp:v,infinite:m,gestureOrientation:w,orientation:f,touchMultiplier:A,wheelMultiplier:B},o(this,y)[y]=new u(h),o(this,O)[O]=new u(l),o(this,U)[U].classList.add("lenis"),this.velocity=0,this.isStopped=!1,this.isSmooth=a||c,this.isScrolling=!1,o(this,E)[E]=o(this,z)[z]=o(this,_)[_],o(this,j)[j]=new n,o(this,S)[S]=t(),o(this,y)[y].element.addEventListener("scroll",o(this,Y)[Y],{passive:!1}),o(this,P)[P]=new g(h,{touchMultiplier:A,wheelMultiplier:B}),o(this,P)[P].on("scroll",o(this,X)[X])}destroy(){o(this,S)[S].events={},o(this,y)[y].element.removeEventListener("scroll",o(this,Y)[Y],{passive:!1}),o(this,P)[P].destroy()}on(t,e){return o(this,S)[S].on(t,e)}emit(){o(this,S)[S].emit("scroll",this)}start(){this.isStopped=!1}stop(){this.isStopped=!0}raf(t){const e=t-(o(this,T)[T]||t);o(this,T)[T]=t,o(this,j)[j].advance(.001*e)}scrollTo(t,{offset:e=0,immediate:i=!1,lock:s=!1,duration:n=o(this,b)[b].duration,easing:h=o(this,b)[b].easing,lerp:l=o(this,b)[b].lerp,onComplete:a}={},u=!0){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{var c;let i;if("string"==typeof t?i=document.querySelector(t):null!=(c=t)&&c.nodeType&&(i=t),i){if(o(this,y)[y].element!==window){const t=o(this,y)[y].element.getBoundingClientRect();e-=this.isHorizontal?t.left:t.top}const s=i.getBoundingClientRect();t=(this.isHorizontal?s.left:s.top)+o(this,z)[z]}}if("number"==typeof t)if(t+=e,o(this,b)[b].infinite?u&&(o(this,E)[E]=o(this,z)[z]=this.scroll):t=r(0,t,this.limit),o(this,z)[z]!==t){if(i)return o(this,z)[z]=o(this,E)[E]=t,o(this,x)[x](t),this.emit(),void(null==a||a());u||(o(this,E)[E]=t),o(this,j)[j].fromTo(o(this,z)[z],t,{duration:n,easing:h,lerp:l,onStart:()=>{s&&(o(this,C)[C]=!0),this.isScrolling=!0},onUpdate:t=>{this.velocity=t-o(this,z)[z],o(this,z)[z]=t,o(this,x)[x](t),u&&(o(this,E)[E]=t),this.emit()},onComplete:t=>{s&&(o(this,C)[C]=!1),requestAnimationFrame(()=>{this.isScrolling=!1}),this.velocity=0,this.emit(),null==a||a()}})}else null==a||a()}get options(){return e({},o(this,b)[b])}get limit(){return this.isHorizontal?o(this,O)[O].width-o(this,y)[y].width:o(this,O)[O].height-o(this,y)[y].height}get isHorizontal(){return"horizontal"===o(this,b)[b].orientation}get scroll(){return function(t,e){let i=t%e;return(e>0&&i<0||e<0&&i>0)&&(i+=e),i}(o(this,z)[z],this.limit)}get progress(){return this.scroll/this.limit}get velocity(){return o(this,M)[M]}set velocity(t){o(this,M)[M]=t,0!==t&&(o(this,L)[L]=Math.sign(t))}get direction(){return o(this,L)[L]}get isSmooth(){return o(this,H)[H]}set isSmooth(t){o(this,H)[H]=t,o(this,U)[U].classList.toggle("lenis-smooth",t)}get isScrolling(){return o(this,R)[R]}set isScrolling(t){o(this,R)[R]=t,o(this,U)[U].classList.toggle("lenis-scrolling",t)}get isStopped(){return o(this,W)[W]}set isStopped(t){o(this,W)[W]=t,o(this,U)[U].classList.toggle("lenis-stopped",t)}}function D(t){o(this,b)[b].infinite&&(t=this.scroll),this.isHorizontal?o(this,U)[U].scrollLeft=t:o(this,U)[U].scrollTop=t}function k(){return o(this,y)[y].element===window?o(this,O)[O].element:o(this,y)[y].element}function q(){return o(this,U)[U].scrollTop}export{A as default};
//# sourceMappingURL=lenis.modern.mjs.map
